{"remainingRequest":"/Users/chris/Desktop/thingexplainerchat/node_modules/thread-loader/dist/cjs.js!/Users/chris/Desktop/thingexplainerchat/node_modules/babel-loader/lib/index.js!/Users/chris/Desktop/thingexplainerchat/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chris/Desktop/thingexplainerchat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chris/Desktop/thingexplainerchat/src/components/simpleChat/SimpleChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chris/Desktop/thingexplainerchat/src/components/simpleChat/SimpleChat.vue","mtime":1569234632852},{"path":"/Users/chris/Desktop/thingexplainerchat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chris/Desktop/thingexplainerchat/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chris/Desktop/thingexplainerchat/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chris/Desktop/thingexplainerchat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chris/Desktop/thingexplainerchat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport ChatInput from \"./ChatInput.vue\";\nimport ChatBody from \"./ChatBody.vue\";\nimport SimpleChatMessage from \"../../SimpleChatMessage.js\";\nexport default {\n  name: 'SimpleChat',\n  props: ['name', 'foreignName', 'socketId', 'foreignSocketId'],\n  components: {\n    ChatInput: ChatInput,\n    ChatBody: ChatBody\n  },\n  data: function data() {\n    return {\n      msg: null,\n      // Chat body watches for this to change before it makes any choices\n      username: this.name,\n      // Just incase they forget\n      errorMessage: '' // Just incase the program breaks\n\n    };\n  },\n  watch: {\n    // Watch for the foreign and local username and socketId change\n    name: function name(val) {\n      this.username = val;\n    },\n    foreignName: function foreignName(val) {\n      this.foreignName = val;\n    },\n    socketId: function socketId(val) {\n      this.socketId = val;\n    },\n    foreignSocketId: function foreignSocketId(val) {\n      this.foreignSocketId = val;\n    }\n  },\n  methods: {\n    // Adjusts the windows size everytime it opens up\n    adjustEditorWindow: function adjustEditorWindow() {// windowHeight = window.innerHeight;\n      // inputHeight = document.querySelector()\n      // document.querySelector('.messages').style.height = (window.innerHeight - 18) + 'px';\n    },\n    // Changes 'msg' and therefore trigering ChatBody to do it's work\n    addMessageToBody: function addMessageToBody(msg, local) {\n      this.msg = {\n        msg: msg,\n        local: local\n      };\n    },\n    clearMessageToBody: function clearMessageToBody() {\n      this.msg = null;\n    },\n    // Sends a message to the server as well as adds it to the body\n    sendMessage: function sendMessage(text) {\n      if (text) {\n        var msg = new SimpleChatMessage(text, this.name);\n        this.addMessageToBody(msg, true); // add the message to the body after we know it was recieved\n\n        this.$socket.emit('newMessage', msg.toString(), function () {\n          console.log('SEND MESSAGE CALLBACK');\n        });\n      }\n    },\n    // Handles the message from the server\n    recieveMessage: function recieveMessage(msg) {\n      this.addMessageToBody(SimpleChatMessage.fromString(msg), false);\n    }\n  },\n  sockets: {\n    newMessage: function newMessage(msg) {\n      this.recieveMessage(msg);\n    },\n    left: function left() {\n      var _this = this;\n\n      this.errorMessage = 'Your chat partner disconnected. Now routing you back to the main page...';\n      setTimeout(function () {\n        _this.errorMessage = '';\n\n        _this.$emit('left');\n      }, 4000);\n    }\n  }\n};",{"version":3,"sources":["SimpleChat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAcA,OAAA,SAAA;AACA,OAAA,QAAA;AAEA,OAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,aAAA,EAAA,UAAA,EAAA,iBAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,QAAA,EAAA;AAFA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,IADA;AACA;AACA,MAAA,QAAA,EAAA,KAAA,IAFA;AAEA;AACA,MAAA,YAAA,EAAA,EAHA,CAGA;;AAHA,KAAA;AAKA,GAbA;AAcA,EAAA,KAAA,EAAA;AAEA;AACA,IAAA,IAAA,EAAA,cAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,KALA;AAMA,IAAA,WAAA,EAAA,qBAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,GAAA;AACA,KARA;AASA,IAAA,QAAA,EAAA,kBAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,KAXA;AAYA,IAAA,eAAA,EAAA,yBAAA,GAAA,EAAA;AACA,WAAA,eAAA,GAAA,GAAA;AACA;AAdA,GAdA;AA+BA,EAAA,OAAA,EAAA;AAEA;AACA,IAAA,kBAAA,EAAA,8BAAA,CACA;AACA;AACA;AACA,KAPA;AASA;AACA,IAAA,gBAVA,4BAUA,GAVA,EAUA,KAVA,EAUA;AACA,WAAA,GAAA,GAAA;AAAA,QAAA,GAAA,EAAA,GAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA,KAZA;AAcA,IAAA,kBAdA,gCAcA;AACA,WAAA,GAAA,GAAA,IAAA;AACA,KAhBA;AAkBA;AACA,IAAA,WAnBA,uBAmBA,IAnBA,EAmBA;AACA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,IAAA,iBAAA,CAAA,IAAA,EAAA,KAAA,IAAA,CAAA;AACA,aAAA,gBAAA,CAAA,GAAA,EAAA,IAAA,EAFA,CAEA;;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,YAAA,EAAA,GAAA,CAAA,QAAA,EAAA,EAAA,YAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,uBAAA;AACA,SAFA;AAGA;AACA,KA3BA;AA6BA;AACA,IAAA,cA9BA,0BA8BA,GA9BA,EA8BA;AACA,WAAA,gBAAA,CAAA,iBAAA,CAAA,UAAA,CAAA,GAAA,CAAA,EAAA,KAAA;AACA;AAhCA,GA/BA;AAkEA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AACA,WAAA,cAAA,CAAA,GAAA;AACA,KAHA;AAIA,IAAA,IAJA,kBAIA;AAAA;;AAEA,WAAA,YAAA,GAAA,0EAAA;AAEA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,EAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,MAAA;AACA,OAHA,EAGA,IAHA,CAAA;AAKA;AAbA;AAlEA,CAAA","sourcesContent":["<template>\n\t<div class=\"main\">\n\t\t<div v-if=\"errorMessage.length == 0\" class=\"wrap\">\n\t\t\t<h1>{{username}}</h1>\n\t\t\t<ChatBody class=\"chatBody\" :msg=\"msg\" @clearMsg=\"clearMessageToBody\"/>\n\t\t\t<ChatInput class=\"chatInput\" @submitMessage=\"sendMessage\"/>\n\t\t</div>\n\t\t<div class=\"errorContainer\" v-if=\"errorMessage.length != 0\">\n\t\t\t<p class=\"error\">{{ errorMessage }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ChatInput from './ChatInput.vue';\nimport ChatBody from './ChatBody.vue';\n\nimport SimpleChatMessage from '../../SimpleChatMessage.js';\n\nexport default {\n\tname: 'SimpleChat',\n\tprops: ['name', 'foreignName', 'socketId', 'foreignSocketId'],\n\tcomponents: {\n\t\tChatInput,\n\t\tChatBody\n\t},\n\tdata () {\n\t\treturn {\n\t\t\tmsg: null,\t\t\t\t\t\t// Chat body watches for this to change before it makes any choices\n\t\t\tusername: this.name,\t// Just incase they forget\n\t\t\terrorMessage: '',\t\t\t// Just incase the program breaks\n\t\t}\n\t},\n\twatch: {\n\n\t\t// Watch for the foreign and local username and socketId change\n\t\tname: function (val) {\n\t\t\tthis.username = val;\n\t\t},\n\t\tforeignName: function (val) {\n\t\t\tthis.foreignName = val;\n\t\t},\n\t\tsocketId: function(val) {\n\t\t\tthis.socketId = val;\n\t\t},\n\t\tforeignSocketId: function(val) {\n\t\t\tthis.foreignSocketId = val;\n\t\t}\n\n\t},\n\tmethods: {\n\n\t\t// Adjusts the windows size everytime it opens up\n\t\tadjustEditorWindow: function() {\n\t\t\t// windowHeight = window.innerHeight;\n\t\t\t// inputHeight = document.querySelector()\n\t\t\t// document.querySelector('.messages').style.height = (window.innerHeight - 18) + 'px';\n\t\t},\n\n\t\t// Changes 'msg' and therefore trigering ChatBody to do it's work\n\t\taddMessageToBody(msg, local) {\n\t\t\tthis.msg = { msg: msg, local: local };\n\t\t},\n\n\t\tclearMessageToBody() {\n\t\t\tthis.msg = null;\n\t\t},\n\n\t\t// Sends a message to the server as well as adds it to the body\n\t\tsendMessage(text) {\n\t\t\tif (text) {\n\t\t\t\tlet msg = new SimpleChatMessage(text, this.name);\n\t\t\t\tthis.addMessageToBody(msg, true);\t\t// add the message to the body after we know it was recieved\n\t\t\t\tthis.$socket.emit('newMessage', msg.toString(), function() {\n\t\t\t\t\tconsole.log('SEND MESSAGE CALLBACK');\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// Handles the message from the server\n\t\trecieveMessage(msg) {\n\t\t\tthis.addMessageToBody(SimpleChatMessage.fromString(msg), false);\n\t\t}\n\n\t},\n\tsockets: {\n\t\tnewMessage(msg) {\n\t\t\tthis.recieveMessage(msg);\n\t\t},\n\t\tleft() {\n\n\t\t\tthis.errorMessage = 'Your chat partner disconnected. Now routing you back to the main page...';\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.errorMessage = '';\n\t\t\t\tthis.$emit('left');\n\t\t\t}, 4000);\n\t\t\t\n\t\t}\n\t}\n}\n</script>\n\n<style>\n\n.wrap {\n\tmargin-top: 3em;\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 50%;\n\tmargin: auto;\n\theight: 100vh;\n}\n\n.chatBody {\n\theight: 85vh;\n}\n\n.chatInput {\n\theight: 15vh;\n}\n\n.errorContainer {\n\theight: 100vh;\n\tposition: relative;\n}\n\n.error {\n\tposition: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.main {\n\t/* display: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground: blue;\n\tpadding-top: 20%;\n\theight: 100%; */\n}\n\n.chat {\n\t/* display: flex;\n\tflex-direction: column;\n\talign-items: flex-end;\n\theight: 100%; */\n}\n</style>"],"sourceRoot":"src/components/simpleChat"}]}